<<<<<<< HEAD
# 📅 Day 2:

Heatmap 시각화 결과 해석 -> 이천시의 4050대가 이천시의 '큰 손'임을 알아냄.
이를, 안정되고 어느정도 지위를 쌓았기 때문이라고 해석했음.

그렇다면, 사회에 첫걸음을 내딛은 2030과 은퇴할 60세 이상의 그룹들은 어떤 소비 성향을 보일지 분석함.
이를 코호트(Cohort) 분석이라 함.
---
## 오늘의 그래프

![alt text](4050_card_2.png)
해당 그래프는 4050의 업종별 매출금액을 시각화한 것 입니다.
확실히 '큰 손'답게 '소매/유통' 컬럼에만 594억원을 사용했습니다.
그 다음에는 '생활서비스', '음식' 등입니다.

![alt text](2030_card_1.png)
이번에는 2030 업종별 매출금액입니다.
2030의 '소매/유통'은 257억원이며, '음식'컬럼이 2등, '생활서비스'가 3등입니다.
'음식' 컬럼은 119억원으로 4050 세대들이 '음식'컬럼이 3등임을 고려하더라도 '194억원' 보다는 확실히 낮은 수치입니다.

![alt text](card_60.png)
이번에는 60세 이상 모든 그룹(60,70,80,90,100세 이상)을 그룹화 했습니다.
하지만, 그럼에도 60+ 세대는 '소매/유통' 컬럼이 227억원으로 2030의 것보다 낮은 수치이며, '음식'컬럼에서도 차이가 많이 납니다.

그리고, 위 3개의 그래프에서 제가 눈 여겨 본 곳은 바로 '생활서비스'와 '음식' 입니다.
'소매/유통'은 모든 세대에게 압도적 1등이며, 다른 컬럼들은 변하지 않았으나, '음식'과 '생활서비스' 컬럼만 변했으며, 2030들은 '음식'컬럼이 2등이였습니다.

그래서, 저는 모든 그래프를 한번에 그려보았습니다.

![alt text](total.png)
해당 그래프에는 20, 30, 2030, 40, 50, 4050, 60 컬럼들을 그린 것입니다.
직감했던 대로, 2030세대들은 음식에 더 많은 돈을 사용하고 있었고, 특히 20대는 '소매/유통' 컬럼의 금액절반 이상이 '음식'컬럼에 투자되고 있었습니다.
그리고, 연령대가 높아질수록 '생활서비스'의 비중이 높아졌습니다.


음식 소비의 핵심 주체는 4050뿐만 아니라 2030까지 포함합니다.
그리고, 첫번째 히트맵에서 4050이 핵심 자본의 중심이라는 사실과 2030도 적지 않은 비중을 차지함을 알아냈습니다.

원래 관심있었던 분야이기에 '음식'을 주제로 진행하려 합니다.

---
## 트러블 핸들링
### 1. 그래프 설정(fig, ax)
Before : 기존에는 'plt.그래프'를 이용해 간단한 그래프 설정
After : 'fig, ax = plt.subplots()' 학습으로 객체생성과 상세한 설정을 진행할 수 있었음

### 2. 축 및 눈금 제어(ticks)
문제점 : `plt.yticks([])` 사용 시 눈금과 레이블이 모두 사라져 정보를 읽을 수 없는 경우 발생.
해결방법 : `ax.tick_params()` 함수 활용.
    - 눈금(Tick)만 제거하고 글자(Label)는 남기거나, 방향/크기/색상 등을 세밀하게 조정하여 가독성 확보.

-> 정보 전달력과 가독성을 확보하고 **객체 지향적(Object-Oriented) 접근**과 **디테일 튜닝**을 학습

### 3. 그래프 배경(심미성)
문제점 : label의 갯수가 많아 가독성이 떨어지고, 금액확인이 어려웠음
해결방법 : 그래프를 수평(barh)으로 돌려 텍스트 가독성 확보
     - `ax.spines['top'].set_visible(False)` 등으로 그래프의 상단/우측 테두리를 제거하여 데이터 자체에 집중 유도.
    - 배경색(`facecolor`)과 막대 색상(`color`)을 조정하여 시각적 피로도 감소


### 4. 그래프 함수 모듈화(.py)
Before : 시각화 함수 전체 코드를 '복사(Ctrl+C)', '붙여넣기(Crtl+V)' 객체 이름, 데이터 이름 등 변수를 일일이 제어 함
After : 'config.py'모듈화 같이 시각화 코드를 함수화(모듈화) 진행 및 'my_plotting.py'로 저장 
    - 코드 간결화, 그래프 생성 용이

### 5. 데이터 레이블링 (Annotation)
- 그래프만으로는 정확한 수치를 파악하기 어려웠음.
- 반복문(for)과 `enumerate`를 활용하여 모든 막대 위치에 정확한 수치 텍스트(`ax.text`)를 자동 배치.
---
## 느낀점
###  시각화 디테일 및 Matplotlib 심화
새로운 분석을 공부하기에 앞서, 두번쨰 프로젝트를 위해서는 '매핑 자료'와 '한글 폰트'를 다시 입력해야 했음.
-> 'config.py' 파일을 만들어서 반복하지 않을 수 있도록 설정(모듈화)하고 DRY(Don't Repeat Yourself) 원칙을 알게 됨.

---
## 다음분석
### 먼저 자본의 흐름을 알아야 합니다. -> 7월 전체 매출흐름 시각화

프로젝트 흐름은 다음과 같습니다.
월 단위(전체흐름 파악, 수박 겉핥기) -> 주 단위(가설 수립) -> 일 단위(가설 증명) -> 다시 월 단위(다른 기간의 데이터 연동)

※ 조금의 변동은 있을 수 있으나 큰 틀은 벗어나지 않게 진행할 예정입니다.

